---
title: "Publications"
pagetitle: "MP Khurana"
output:
  html_document:
    theme: cosmo
    highlight: textmate
    css: www/styles.css
---

Link to [Google Scholar](https://scholar.google.com/citations?user=gQg4gOcAAAAJ)

```{r publications, echo=FALSE, message=FALSE, warning=FALSE}
# Load libraries
library(scholar)
library(knitr)
library(dplyr)
library(kableExtra)

# Google Scholar ID
my_id <- "gQg4gOcAAAAJ"

# Fetch publications and sort by year descending
my_pubs <- get_publications(my_id) %>% arrange(desc(year))

# Ensure pub_url exists
if(!"pub_url" %in% colnames(my_pubs)) my_pubs$pub_url <- NA_character_

# Create clickable titles if pub_url exists
my_pubs$title_link <- ifelse(
  !is.na(my_pubs$pub_url) & my_pubs$pub_url != "",
  paste0("<a href='", my_pubs$pub_url, "' target='_blank'>", my_pubs$title, "</a>"),
  as.character(my_pubs$title)
)

# Create Citations column from 'cites'
#my_pubs$Citations <- my_pubs$cites

# Display table with Year, Title, Authors, Journal, Citations
kable(
  my_pubs[, c("year", "title_link", "author", "journal")],
  col.names = c("Year", "Title", "Authors", "Journal"),
  align = c("c", "l", "l", "l"),
  escape = FALSE,
  format = "html",
  caption = "Publications from Google Scholar"
) %>%
  kable_styling(
    full_width = FALSE,
    bootstrap_options = c("striped", "hover", "condensed")
  )
